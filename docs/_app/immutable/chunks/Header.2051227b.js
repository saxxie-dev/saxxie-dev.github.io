import{S,i as y,s as $,k as p,a as v,l as m,m as g,c as x,h as d,n as c,b as E,C as u,M as C,D as f,I as V,q as I,y as M,r as U,z as A,A as B,g as D,d as H,B as K}from"./index.44084b9b.js";var _;(a=>{a.map=(t,e)=>e===null?null:t(e),a.fallback=(t,e)=>t===null?e:t})(_||(_={}));var w=(a=>(a.darkmode="darkmode-override",a.ghUsername="gh-username",a))(w||{});const k=class{constructor(a,t){this.storageKey=a,this.defaultValue=t,this.get=()=>{const e=localStorage.getItem(`*persisted-${this.storageKey}`);return e?JSON.parse(e):this.defaultValue},this.set=e=>{localStorage.setItem(`*persisted-${this.storageKey}`,JSON.stringify(e)),k.subscriptionMap[this.storageKey].forEach(s=>s(e))},this.subscribe=e=>{const s=k.subscriptionMap[this.storageKey];return s.push(e),e(this.get()),()=>{s.splice(s.findIndex(r=>r===e),1)}},this.update=e=>this.set(e(this.get()))}};let L=k;L.subscriptionMap={["darkmode-override"]:[],["gh-username"]:[]};class N{constructor(){var t;this.subscriptions=[],this.localStore=new L(w.darkmode,null),this.darkmodeQuery=window.matchMedia("(prefers-color-scheme: dark)"),this.pushUpdate=e=>{this.subscriptions.map(s=>s(e))},this.handleLocalstoreChange=e=>{e!==null?this.pushUpdate(e):this.pushUpdate(this.defaultValue)},this.handleBrowserSettingsChange=e=>this.localStore.get()!==null?this.pushUpdate(e.matches):null,this.subscribe=e=>{const s=this.localStore.get();return e(s===null?this.defaultValue:s),this.subscriptions.push(e),()=>{this.subscriptions.splice(this.subscriptions.findIndex(r=>r===e),1)}},this.set=this.localStore.set,this.update=e=>{this.localStore.update(s=>e(_.fallback(s,this.defaultValue)))},this.localStore.subscribe(this.handleLocalstoreChange),(t=this.darkmodeQuery)==null||t.addEventListener("change",this.handleBrowserSettingsChange)}get defaultValue(){var t;return!!((t=this.darkmodeQuery)!=null&&t.matches)}}const b=new N;function T(a){let t,e,s,r,i,h,n;return{c(){t=p("label"),e=p("input"),s=v(),r=p("span"),this.h()},l(l){t=m(l,"LABEL",{class:!0});var o=g(t);e=m(o,"INPUT",{type:!0}),s=x(o),r=m(o,"SPAN",{class:!0,title:!0}),g(r).forEach(d),o.forEach(d),this.h()},h(){c(e,"type","checkbox"),c(r,"class","slider"),c(r,"title",i=`Toggle dark mode (${a[0]})`),c(t,"class","switch")},m(l,o){E(l,t,o),u(t,e),e.checked=a[0],u(t,s),u(t,r),h||(n=C(e,"change",a[1]),h=!0)},p(l,[o]){o&1&&(e.checked=l[0]),o&1&&i!==(i=`Toggle dark mode (${l[0]})`)&&c(r,"title",i)},i:f,o:f,d(l){l&&d(t),h=!1,n()}}}function Q(a,t,e){let s;V(a,b,i=>e(0,s=i));function r(){s=this.checked,b.set(s)}return a.$$.update=()=>{a.$$.dirty&1&&document.documentElement.classList.toggle("dark",s)},[s,r]}class q extends S{constructor(t){super(),y(this,t,Q,T,$,{})}}function J(a){let t,e,s,r,i,h;return i=new q({}),{c(){t=p("header"),e=p("a"),s=I("saxxie.dev"),r=v(),M(i.$$.fragment),this.h()},l(n){t=m(n,"HEADER",{class:!0});var l=g(t);e=m(l,"A",{href:!0,class:!0});var o=g(e);s=U(o,"saxxie.dev"),o.forEach(d),r=x(l),A(i.$$.fragment,l),l.forEach(d),this.h()},h(){c(e,"href","https://saxxie.dev"),c(e,"class","svelte-rnilhf"),c(t,"class","border-b-2 border-slate-600 dark:border-slate-100 svelte-rnilhf")},m(n,l){E(n,t,l),u(t,e),u(e,s),u(t,r),B(i,t,null),h=!0},p:f,i(n){h||(D(i.$$.fragment,n),h=!0)},o(n){H(i.$$.fragment,n),h=!1},d(n){n&&d(t),K(i)}}}class P extends S{constructor(t){super(),y(this,t,null,J,$,{})}}export{P as H};
