import{S as b,i as v,s as y,k as p,a as S,l as m,m as f,c as $,h as d,n as c,b as x,F as u,H as L,A as g,G as w,q as E,v as C,r as A,w as H,x as T,f as U,t as V,y as D}from"./index-13bb7807.js";import{L as B,a as M}from"./LocalStore-1308d339.js";var _;(r=>{r.map=(t,e)=>e===null?null:t(e),r.fallback=(t,e)=>t===null?e:t})(_||(_={}));class Q{constructor(){var t;this.subscriptions=[],this.localStore=new B(M.darkmode,null),this.darkmodeQuery=window.matchMedia("(prefers-color-scheme: dark)"),this.pushUpdate=e=>{this.subscriptions.map(s=>s(e))},this.handleLocalstoreChange=e=>{e!==null?this.pushUpdate(e):this.pushUpdate(this.defaultValue)},this.handleBrowserSettingsChange=e=>this.localStore.get()!==null?this.pushUpdate(e.matches):null,this.subscribe=e=>{const s=this.localStore.get();return e(s===null?this.defaultValue:s),this.subscriptions.push(e),()=>{this.subscriptions.splice(this.subscriptions.findIndex(a=>a===e),1)}},this.set=this.localStore.set,this.update=e=>{this.localStore.update(s=>e(_.fallback(s,this.defaultValue)))},this.localStore.subscribe(this.handleLocalstoreChange),(t=this.darkmodeQuery)==null||t.addEventListener("change",this.handleBrowserSettingsChange)}get defaultValue(){var t;return!!((t=this.darkmodeQuery)!=null&&t.matches)}}const k=new Q;function q(r){let t,e,s,a,n,h,o;return{c(){t=p("label"),e=p("input"),s=S(),a=p("span"),this.h()},l(l){t=m(l,"LABEL",{class:!0});var i=f(t);e=m(i,"INPUT",{type:!0,class:!0}),s=$(i),a=m(i,"SPAN",{class:!0,title:!0}),f(a).forEach(d),i.forEach(d),this.h()},h(){c(e,"type","checkbox"),c(e,"class","svelte-11e8ebp"),c(a,"class","slider svelte-11e8ebp"),c(a,"title",n=`Toggle dark mode (${r[0]})`),c(t,"class","switch svelte-11e8ebp")},m(l,i){x(l,t,i),u(t,e),e.checked=r[0],u(t,s),u(t,a),h||(o=L(e,"change",r[1]),h=!0)},p(l,[i]){i&1&&(e.checked=l[0]),i&1&&n!==(n=`Toggle dark mode (${l[0]})`)&&c(a,"title",n)},i:g,o:g,d(l){l&&d(t),h=!1,o()}}}function I(r,t,e){let s;w(r,k,n=>e(0,s=n));function a(){s=this.checked,k.set(s)}return r.$$.update=()=>{r.$$.dirty&1&&(document.body.classList.toggle("darkmode",s),document.body.classList.toggle("lightmode",!s))},[s,a]}class N extends b{constructor(t){super(),v(this,t,I,q,y,{})}}function P(r){let t,e,s,a,n,h;return n=new N({}),{c(){t=p("header"),e=p("a"),s=E("saxxie.dev"),a=S(),C(n.$$.fragment),this.h()},l(o){t=m(o,"HEADER",{class:!0});var l=f(t);e=m(l,"A",{href:!0,class:!0});var i=f(e);s=A(i,"saxxie.dev"),i.forEach(d),a=$(l),H(n.$$.fragment,l),l.forEach(d),this.h()},h(){c(e,"href","https://saxxie.dev"),c(e,"class","svelte-16hkxuc"),c(t,"class","svelte-16hkxuc")},m(o,l){x(o,t,l),u(t,e),u(e,s),u(t,a),T(n,t,null),h=!0},p:g,i(o){h||(U(n.$$.fragment,o),h=!0)},o(o){V(n.$$.fragment,o),h=!1},d(o){o&&d(t),D(n)}}}class K extends b{constructor(t){super(),v(this,t,null,P,y,{})}}export{K as H};
