import{S as E,i as U,s as V,e as v,t as g,c as b,a as y,h as p,d as u,b as k,g as d,J as _,j as L,k as w,m as C,n as S,N as z,L as H,M as J,x as I,y as M,z as D,r as N,p as Q,C as A}from"../../chunks/index-b159b7b5.js";import{L as K,a as O}from"../../chunks/LocalStore-76516329.js";function B(r,e,t){const l=r.slice();return l[4]=e[t],l}function P(r){let e,t=r[4][0]+"",l,a;return{c(){e=v("a"),l=g(t),this.h()},l(c){e=b(c,"A",{href:!0});var s=y(e);l=p(s,t),s.forEach(u),this.h()},h(){k(e,"href",a=r[4][1])},m(c,s){d(c,e,s),_(e,l)},p(c,s){s&2&&t!==(t=c[4][0]+"")&&L(l,t),s&2&&a!==(a=c[4][1])&&k(e,"href",a)},d(c){c&&u(e)}}}function j(r){let e,t;return{c(){e=v("p"),t=g(r[2])},l(l){e=b(l,"P",{});var a=y(e);t=p(a,r[2]),a.forEach(u)},m(l,a){d(l,e,a),_(e,t)},p(l,a){a&4&&L(t,l[2])},d(l){l&&u(e)}}}function R(r){let e,t,l,a,c,s=r[1],i=[];for(let o=0;o<s.length;o+=1)i[o]=P(B(r,s,o));let n=r[2]&&j(r);return{c(){e=v("section"),t=v("h2"),l=g(r[0]),a=w();for(let o=0;o<i.length;o+=1)i[o].c();c=w(),n&&n.c(),this.h()},l(o){e=b(o,"SECTION",{class:!0});var f=y(e);t=b(f,"H2",{});var h=y(t);l=p(h,r[0]),h.forEach(u),a=C(f);for(let m=0;m<i.length;m+=1)i[m].l(f);c=C(f),n&&n.l(f),f.forEach(u),this.h()},h(){k(e,"class","svelte-ax550d")},m(o,f){d(o,e,f),_(e,t),_(t,l),_(e,a);for(let h=0;h<i.length;h+=1)i[h].m(e,null);_(e,c),n&&n.m(e,null)},p(o,[f]){if(f&1&&L(l,o[0]),f&2){s=o[1];let h;for(h=0;h<s.length;h+=1){const m=B(o,s,h);i[h]?i[h].p(m,f):(i[h]=P(m),i[h].c(),i[h].m(e,c))}for(;h<i.length;h+=1)i[h].d(1);i.length=s.length}o[2]?n?n.p(o,f):(n=j(o),n.c(),n.m(e,null)):n&&(n.d(1),n=null)},i:S,o:S,d(o){o&&u(e),z(i,o),n&&n.d()}}}function F(r,e,t){let{progress:l=[0,1]}=e,{title:a}=e,{links:c=[]}=e,{review:s=void 0}=e;return r.$$set=i=>{"progress"in i&&t(3,l=i.progress),"title"in i&&t(0,a=i.title),"links"in i&&t(1,c=i.links),"review"in i&&t(2,s=i.review)},[a,c,s,l]}class G extends E{constructor(e){super(),U(this,e,F,R,V,{progress:3,title:0,links:1,review:2})}}var T;(r=>{r.map=(e,t)=>t===null?null:e(t),r.fallback=(e,t)=>e===null?t:e})(T||(T={}));class W{constructor(){var e;this.subscriptions=[],this.localStore=new K(O.darkmode,null),this.darkmodeQuery=window.matchMedia("(prefers-color-scheme: dark)"),this.pushUpdate=t=>{this.subscriptions.map(l=>l(t))},this.handleLocalstoreChange=t=>{t!==null?this.pushUpdate(t):this.pushUpdate(this.defaultValue)},this.handleBrowserSettingsChange=t=>this.localStore.get()!==null?this.pushUpdate(t.matches):null,this.subscribe=t=>{const l=this.localStore.get();return t(l===null?this.defaultValue:l),this.subscriptions.push(t),()=>{this.subscriptions.splice(this.subscriptions.findIndex(a=>a===t),1)}},this.set=this.localStore.set,this.update=t=>{this.localStore.update(l=>t(T.fallback(l,this.defaultValue)))},this.localStore.subscribe(this.handleLocalstoreChange),(e=this.darkmodeQuery)==null||e.addEventListener("change",this.handleBrowserSettingsChange)}get defaultValue(){var e;return!!((e=this.darkmodeQuery)!=null&&e.matches)}}const q=new W;function X(r){let e,t,l,a,c,s,i;return{c(){e=v("input"),l=g(" toggle dark mode ("),a=g(r[0]),c=g(")"),this.h()},l(n){e=b(n,"INPUT",{type:!0,title:!0}),l=p(n," toggle dark mode ("),a=p(n,r[0]),c=p(n,")"),this.h()},h(){k(e,"type","checkbox"),k(e,"title",t=`Toggle dark mode (${r[0]})`)},m(n,o){d(n,e,o),e.checked=r[0],d(n,l,o),d(n,a,o),d(n,c,o),s||(i=H(e,"change",r[1]),s=!0)},p(n,[o]){o&1&&t!==(t=`Toggle dark mode (${n[0]})`)&&k(e,"title",t),o&1&&(e.checked=n[0]),o&1&&L(a,n[0])},i:S,o:S,d(n){n&&u(e),n&&u(l),n&&u(a),n&&u(c),s=!1,i()}}}function Y(r,e,t){let l;J(r,q,c=>t(0,l=c)),console.log(l);function a(){l=this.checked,q.set(l)}return r.$$.update=()=>{r.$$.dirty&1&&(document.body.classList.toggle("darkmode",l),document.body.classList.toggle("lightmode",!l))},[l,a]}class Z extends E{constructor(e){super(),U(this,e,Y,X,V,{})}}function $(r){let e,t,l,a,c;return e=new Z({}),a=new G({props:{title:"yay",progress:[0,1]}}),{c(){I(e.$$.fragment),t=w(),l=v("article"),I(a.$$.fragment)},l(s){M(e.$$.fragment,s),t=C(s),l=b(s,"ARTICLE",{});var i=y(l);M(a.$$.fragment,i),i.forEach(u)},m(s,i){D(e,s,i),d(s,t,i),d(s,l,i),D(a,l,null),c=!0},p:S,i(s){c||(N(e.$$.fragment,s),N(a.$$.fragment,s),c=!0)},o(s){Q(e.$$.fragment,s),Q(a.$$.fragment,s),c=!1},d(s){A(e,s),s&&u(t),s&&u(l),A(a)}}}class te extends E{constructor(e){super(),U(this,e,null,$,V,{})}}export{te as default};
