import{S as w,i as E,s as C,e as _,t as T,c as g,a as p,h as U,d as f,b as d,g as b,J as m,j as V,k as y,m as L,n as v,N as z,L as H,M as J,x as A,y as I,z as M,r as N,p as B,C as D}from"../../chunks/index-b159b7b5.js";import{L as K,a as O}from"../../chunks/LocalStore-76516329.js";function P(i,e,t){const s=i.slice();return s[4]=e[t],s}function Q(i){let e,t=i[4][0]+"",s,a;return{c(){e=_("a"),s=T(t),this.h()},l(o){e=g(o,"A",{href:!0});var l=p(e);s=U(l,t),l.forEach(f),this.h()},h(){d(e,"href",a=i[4][1])},m(o,l){b(o,e,l),m(e,s)},p(o,l){l&2&&t!==(t=o[4][0]+"")&&V(s,t),l&2&&a!==(a=o[4][1])&&d(e,"href",a)},d(o){o&&f(e)}}}function q(i){let e,t;return{c(){e=_("p"),t=T(i[2])},l(s){e=g(s,"P",{});var a=p(e);t=U(a,i[2]),a.forEach(f)},m(s,a){b(s,e,a),m(e,t)},p(s,a){a&4&&V(t,s[2])},d(s){s&&f(e)}}}function R(i){let e,t,s,a,o,l=i[1],n=[];for(let r=0;r<l.length;r+=1)n[r]=Q(P(i,l,r));let c=i[2]&&q(i);return{c(){e=_("section"),t=_("h2"),s=T(i[0]),a=y();for(let r=0;r<n.length;r+=1)n[r].c();o=y(),c&&c.c(),this.h()},l(r){e=g(r,"SECTION",{class:!0});var u=p(e);t=g(u,"H2",{});var h=p(t);s=U(h,i[0]),h.forEach(f),a=L(u);for(let k=0;k<n.length;k+=1)n[k].l(u);o=L(u),c&&c.l(u),u.forEach(f),this.h()},h(){d(e,"class","svelte-1qpmcoh")},m(r,u){b(r,e,u),m(e,t),m(t,s),m(e,a);for(let h=0;h<n.length;h+=1)n[h].m(e,null);m(e,o),c&&c.m(e,null)},p(r,[u]){if(u&1&&V(s,r[0]),u&2){l=r[1];let h;for(h=0;h<l.length;h+=1){const k=P(r,l,h);n[h]?n[h].p(k,u):(n[h]=Q(k),n[h].c(),n[h].m(e,o))}for(;h<n.length;h+=1)n[h].d(1);n.length=l.length}r[2]?c?c.p(r,u):(c=q(r),c.c(),c.m(e,null)):c&&(c.d(1),c=null)},i:v,o:v,d(r){r&&f(e),z(n,r),c&&c.d()}}}function F(i,e,t){let{progress:s=[0,1]}=e,{title:a}=e,{links:o=[]}=e,{review:l=void 0}=e;return i.$$set=n=>{"progress"in n&&t(3,s=n.progress),"title"in n&&t(0,a=n.title),"links"in n&&t(1,o=n.links),"review"in n&&t(2,l=n.review)},[a,o,l,s]}class G extends w{constructor(e){super(),E(this,e,F,R,C,{progress:3,title:0,links:1,review:2})}}var S;(i=>{i.map=(e,t)=>t===null?null:e(t),i.fallback=(e,t)=>e===null?t:e})(S||(S={}));class W{constructor(){var e;this.subscriptions=[],this.localStore=new K(O.darkmode,null),this.darkmodeQuery=window.matchMedia("(prefers-color-scheme: dark)"),this.pushUpdate=t=>{this.subscriptions.map(s=>s(t))},this.handleLocalstoreChange=t=>{t!==null?this.pushUpdate(t):this.pushUpdate(this.defaultValue)},this.handleBrowserSettingsChange=t=>this.localStore.get()!==null?this.pushUpdate(t.matches):null,this.subscribe=t=>{const s=this.localStore.get();return t(s===null?this.defaultValue:s),this.subscriptions.push(t),()=>{this.subscriptions.splice(this.subscriptions.findIndex(a=>a===t),1)}},this.set=this.localStore.set,this.update=t=>{this.localStore.update(s=>t(S.fallback(s,this.defaultValue)))},this.localStore.subscribe(this.handleLocalstoreChange),(e=this.darkmodeQuery)==null||e.addEventListener("change",this.handleBrowserSettingsChange)}get defaultValue(){var e;return!!((e=this.darkmodeQuery)!=null&&e.matches)}}const j=new W;function X(i){let e,t,s,a,o,l,n;return{c(){e=_("label"),t=_("input"),s=y(),a=_("span"),this.h()},l(c){e=g(c,"LABEL",{class:!0});var r=p(e);t=g(r,"INPUT",{type:!0,class:!0}),s=L(r),a=g(r,"SPAN",{class:!0,title:!0}),p(a).forEach(f),r.forEach(f),this.h()},h(){d(t,"type","checkbox"),d(t,"class","svelte-b76bvn"),d(a,"class","slider svelte-b76bvn"),d(a,"title",o=`Toggle dark mode (${i[0]})`),d(e,"class","switch svelte-b76bvn")},m(c,r){b(c,e,r),m(e,t),t.checked=i[0],m(e,s),m(e,a),l||(n=H(t,"change",i[1]),l=!0)},p(c,[r]){r&1&&(t.checked=c[0]),r&1&&o!==(o=`Toggle dark mode (${c[0]})`)&&d(a,"title",o)},i:v,o:v,d(c){c&&f(e),l=!1,n()}}}function Y(i,e,t){let s;J(i,j,o=>t(0,s=o)),console.log(s);function a(){s=this.checked,j.set(s)}return i.$$.update=()=>{i.$$.dirty&1&&(document.body.classList.toggle("darkmode",s),document.body.classList.toggle("lightmode",!s))},[s,a]}class Z extends w{constructor(e){super(),E(this,e,Y,X,C,{})}}function $(i){let e,t,s,a,o;return e=new Z({}),a=new G({props:{title:"yay",progress:[0,1]}}),{c(){A(e.$$.fragment),t=y(),s=_("article"),A(a.$$.fragment)},l(l){I(e.$$.fragment,l),t=L(l),s=g(l,"ARTICLE",{});var n=p(s);I(a.$$.fragment,n),n.forEach(f)},m(l,n){M(e,l,n),b(l,t,n),b(l,s,n),M(a,s,null),o=!0},p:v,i(l){o||(N(e.$$.fragment,l),N(a.$$.fragment,l),o=!0)},o(l){B(e.$$.fragment,l),B(a.$$.fragment,l),o=!1},d(l){D(e,l),l&&f(t),l&&f(s),D(a)}}}class te extends w{constructor(e){super(),E(this,e,null,$,C,{})}}export{te as default};
