var o=(e=>(e.darkmode="darkmode-override",e.ghUsername="gh-username",e))(o||{});const r=class{constructor(e,a){this.storageKey=e,this.defaultValue=a,this.get=()=>{const t=localStorage.getItem(`*persisted-${this.storageKey}`);return t?JSON.parse(t):this.defaultValue},this.set=t=>{localStorage.setItem(`*persisted-${this.storageKey}`,JSON.stringify(t)),r.subscriptionMap[this.storageKey].forEach(s=>s(t))},this.subscribe=t=>{const s=r.subscriptionMap[this.storageKey];return s.push(t),t(this.get()),()=>{s.splice(s.findIndex(i=>i===t),1)}},this.update=t=>this.set(t(this.get()))}};let h=r;h.subscriptionMap={["darkmode-override"]:[],["gh-username"]:[]};export{h as L,o as a};
